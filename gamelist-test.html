<html>
  <head>Game List Test</head>
  <body>
<h1>Games</h1>
    <div id="game-links"></div>


    <script>
      fetch('https://api.github.com/repos/sigmasec/gamebase/contents/')
    .then(response => response.json())
    .then(data => {
        let gameLinks = document.getElementById('game-links');
        data.forEach(item => {
            if (item.type === 'dir') {
                fetch(item.url)
                    .then(response => response.json())
                    .then(subData => {
                        subData.forEach(subItem => {
                            if (subItem.name === 'index.html') {
                                let a = document.createElement('a');
                                let linkText = document.createTextNode(item.name);
                                a.appendChild(linkText);
                                a.title = item.name;
                                a.href = `/games/play/game.html?game=${item.name}`;
                                gameLinks.appendChild(a);
                            }
                        });
                    });
            }
        });
    });

    </script>
  </body>
</html>
